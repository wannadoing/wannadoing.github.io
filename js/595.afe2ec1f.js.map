{"version":3,"file":"js/595.afe2ec1f.js","mappings":"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","sources":["webpack://to-doing.github.io/./src/components/articleContent/bookContent.vue","webpack://to-doing.github.io/src/components/articleContent/bookContent.vue","webpack://to-doing.github.io/./src/components/articleContent/bookContent.vue?eab8","webpack://to-doing.github.io/./src/components/articleContent/bookContent.vue?41a8"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\",on:{\"scroll\":_vm.add}},[_vm._m(0),_c('div',{staticClass:\"header_search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.book_searchKey),expression:\"book_searchKey\",modifiers:{\"lazy\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"输入内容，回车搜索\"},domProps:{\"value\":(_vm.book_searchKey)},on:{\"change\":function($event){_vm.book_searchKey=$event.target.value}}})]),_c('div',{staticClass:\"main\"},[_c('ul',[_vm._l((_vm.filterList),function(m,i){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.flag2),expression:\"flag2\"}],key:i + 's',staticClass:\"searchContent\"},[_c('h3',[_c('span',[_c('img',{attrs:{\"src\":m.img,\"title\":m.name}})]),_vm._v(_vm._s(m.name)+\" \")]),_c('hr'),_c('div',[_c('span',[_vm._v(_vm._s(m.detail))])]),_c('div',[_c('a',{attrs:{\"target\":\"_blank\",\"href\":m.url}},[_vm._v(\"点击进入\")])])])}),_vm._l((_vm.$store.state.bookContent.bookList.slice(_vm.start, _vm.end)),function(n,i){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.flag),expression:\"flag\"}],key:i},[_c('h3',[_c('span',[_c('img',{attrs:{\"src\":n.img,\"title\":n.name}})]),_vm._v(_vm._s(n.name)+\" \")]),_c('hr'),_c('div',[_c('span',[_vm._v(_vm._s(n.detail))])]),_c('div',[_c('a',{attrs:{\"target\":\"_blank\",\"href\":n.url}},[_vm._v(\"点击进入\")])])])})],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hiddenBtn_more),expression:\"hiddenBtn_more\"}],staticClass:\"moreContent\"},[_c('a',[_vm._v(\"加载中...\")])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"header_header\"},[_c('h2',[_vm._v(\"书籍漫画\")]),_c('h5',[_vm._v(\"各类书籍漫画资源\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\" @scroll=\"add\">\r\n    <div class=\"header\">\r\n      <div class=\"header_header\">\r\n        <h2>书籍漫画</h2>\r\n        <h5>各类书籍漫画资源</h5>\r\n      </div>\r\n    </div>\r\n    <div class=\"header_search\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"输入内容，回车搜索\"\r\n        v-model.lazy=\"book_searchKey\"\r\n      />\r\n    </div>\r\n    <div class=\"main\">\r\n      <ul>\r\n        <li\r\n          class=\"searchContent\"\r\n          v-show=\"flag2\"\r\n          v-for=\"(m, i) in filterList\"\r\n          :key=\"i + 's'\"\r\n        >\r\n          <h3>\r\n            <span><img :src=\"m.img\" :title=\"m.name\" /></span>{{ m.name }}\r\n          </h3>\r\n          <hr />\r\n          <div>\r\n            <span>{{ m.detail }}</span>\r\n          </div>\r\n          <div>\r\n            <a target=\"_blank\" :href=\"m.url\">点击进入</a>\r\n          </div>\r\n        </li>\r\n\r\n        <li\r\n          v-show=\"flag\"\r\n          v-for=\"(n, i) in $store.state.bookContent.bookList.slice(start, end)\"\r\n          :key=\"i\"\r\n        >\r\n          <h3>\r\n            <span><img :src=\"n.img\" :title=\"n.name\" /></span>{{ n.name }}\r\n          </h3>\r\n          <hr />\r\n          <div>\r\n            <span>{{ n.detail }}</span>\r\n          </div>\r\n          <div>\r\n            <a target=\"_blank\" :href=\"n.url\">点击进入</a>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <div class=\"moreContent\" v-show=\"hiddenBtn_more\">\r\n        <a>加载中...</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"bookContent\",\r\n  data() {\r\n    return {\r\n      flag: true,\r\n      flag2: false,\r\n      hiddenBtn_more: true,\r\n      start: 0,\r\n      end: 10,\r\n      book_searchKey: \"\",\r\n      filterList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    add() {\r\n      // 储存this\r\n      let _this = this;\r\n      let timer = null;\r\n      const container = document.querySelector(\".container\");\r\n      const moreContent = document.querySelector(\".moreContent\");\r\n      const moreContent_a = moreContent.querySelector('a')\r\n      const containerHeight = container.clientHeight;\r\n      // 获取距离\r\n      // console.log(containerHeight);\r\n      // console.log(top);\r\n\r\n      function eventFun() {\r\n        timer = null;\r\n        if (timer !== null) {\r\n          clearTimeout(timer);\r\n        } else {\r\n          timer = setTimeout(() => {\r\n            let top = moreContent.getBoundingClientRect().top;\r\n            if (containerHeight >= top) {\r\n              // console.log(\"到底了\");\r\n              _this.end += 10;\r\n              // console.log(_this);\r\n              timer = !timer;\r\n              // console.log(timer);\r\n            }\r\n          }, 700);\r\n          if(_this.end >= _this.$store.state.bookContent.bookList.length){\r\n            moreContent_a.innerText = '没有更多内容了'\r\n          }\r\n        }\r\n      }\r\n      eventFun();\r\n    },\r\n  },\r\n  watch: {\r\n    book_searchKey: {\r\n      // 首次绑定是否执行 handler\r\n      // immediate:true,\r\n      handler(val) {\r\n        // 输入框输入时替换列表\r\n        if (this.book_SearchKey != \"\") {\r\n          this.flag = false;\r\n          this.flag2 = true;\r\n          this.hiddenBtn_more = false;\r\n\r\n          // 过滤数组赋值给新数组\r\n          this.filterList = this.$store.state.bookContent.bookList.filter(\r\n            (item) => {\r\n              // 判断是否在数组中存在|| item.name.toLowerCase().indexOf(val) !== -1\r\n              // return item.name.indexOf(val) !== -1\r\n              let nameUpper = item.name.toUpperCase();\r\n              let nameLower = item.name.toLowerCase();\r\n              if (\r\n                item.detail.indexOf(val) !== -1 ||\r\n                nameUpper.indexOf(val) !== -1 ||\r\n                nameLower.indexOf(val) !== -1\r\n              ) {\r\n                return item;\r\n                // console.log(item);\r\n              }\r\n            }\r\n          );\r\n        } else {\r\n          this.flag = true;\r\n          this.flag2 = false;\r\n          this.hiddenBtn_more = true;\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./bookContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./bookContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./bookContent.vue?vue&type=template&id=de258f2c&\"\nimport script from \"./bookContent.vue?vue&type=script&lang=js&\"\nexport * from \"./bookContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","add","_m","directives","name","rawName","value","book_searchKey","expression","modifiers","attrs","domProps","$event","target","_l","filterList","m","i","flag2","key","img","_v","_s","detail","url","$store","state","bookContent","bookList","slice","start","end","n","flag","hiddenBtn_more","staticRenderFns","data","methods","timer","clearTimeout","_this","moreContent_a","eventFun","watch","handler","item","nameUpper","nameLower","component"],"sourceRoot":""}